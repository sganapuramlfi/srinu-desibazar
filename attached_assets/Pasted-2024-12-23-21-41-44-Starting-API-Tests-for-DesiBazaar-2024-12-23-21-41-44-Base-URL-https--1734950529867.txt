2024-12-23 21:41:44 - üîç Starting API Tests for DesiBazaar
2024-12-23 21:41:44 - Base URL: https://fffba076-bb1a-40f5-bb6b-17e794181c88-00-3p6nq8vhuxh28.kirk.replit.dev
2024-12-23 21:41:44 - 
üìã Test 1: Server Health Check
2024-12-23 21:41:44 - ‚ùå GET /api/user - Error: 401 - The remote server returned an error: (401) Unauthorized.
2024-12-23 21:41:44 - Error Details: 
2024-12-23 21:41:44 - 
üìã Test 2: Business Registration for Each Industry
2024-12-23 21:41:44 - 
Testing registration for salon
2024-12-23 21:41:45 - ‚úÖ POST /api/register - Status: 200 (Expected: 200)
2024-12-23 21:41:45 - Response: {"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}
2024-12-23 21:41:45 - Session cookie received: connect.sid=s%3AP_ZAIsoaionG2_KuBCIAlaQ50aWJvK__.hrqy2tVmnvKOpkI8%2B6czQ3w%2BRIrv4d67weSUM0beTrI; Path=/; Expires=Tue, 24 Dec 2024 10:41:45 GMT; HttpOnly; Secure; SameSite=None
2024-12-23 21:41:45 - 
Testing login for salon
2024-12-23 21:41:45 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for salon
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing registration for restaurant
2024-12-23 21:41:46 - ‚ùå POST /api/register - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing login for restaurant
2024-12-23 21:41:46 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for restaurant
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing registration for event
2024-12-23 21:41:46 - ‚ùå POST /api/register - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing login for event
2024-12-23 21:41:46 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for event
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing registration for realestate
2024-12-23 21:41:46 - ‚ùå POST /api/register - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing login for realestate
2024-12-23 21:41:46 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for realestate
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing registration for retail
2024-12-23 21:41:46 - ‚ùå POST /api/register - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing login for retail
2024-12-23 21:41:46 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for retail
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing registration for professional
2024-12-23 21:41:46 - ‚ùå POST /api/register - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing login for professional
2024-12-23 21:41:46 - ‚ùå POST /api/login - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
Testing authenticated endpoints for professional
2024-12-23 21:41:46 - ‚ùå GET /api/user - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - ‚ùå POST /api/logout - Error:  - Cannot bind parameter 'WebSession'. Cannot convert the "{"ok":true,"message":"Registration successful","user":{"id":28,"username":"testsalon1457047008","role":"business","business":{"id":25,"userId":28,"name":"Test Salon","description":"Test salon business","logo":null,"industryType":"salon","status":"pending","onboardingCompleted":false,"contactInfo":null,"workingHours":null,"settings":null,"createdAt":"2024-12-23T10:41:45.269Z","updatedAt":null},"needsOnboarding":true}}" value of type "Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject" to type "Microsoft.PowerShell.Commands.WebRequestSession".
2024-12-23 21:41:46 - 
‚ú® API Tests Completed
2024-12-23 21:41:46 - Results saved to: C:\Users\admin\api-test-results.log
2024-12-23 21:41:46 - 
üìå How to use this script:
2024-12-23 21:41:46 - 1. Update the $baseUrl variable if testing a different deployment
2024-12-23 21:41:46 - 2. Run the script in PowerShell: .\test-api.ps1
2024-12-23 21:41:46 - 3. Check the log file for detailed results and any errors
2024-12-23 21:41:46 - 4. Look for ‚ùå symbols to quickly identify failed tests
